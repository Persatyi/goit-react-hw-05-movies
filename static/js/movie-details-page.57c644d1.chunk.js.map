{"version":3,"file":"static/js/movie-details-page.57c644d1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Views/MovieDetailsPage/MovieDetailsPage.module.css?397c","components/Views/MovieDetailsPage/MovieDetailsPage.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetailsPage_section__JvHpv\",\"backBtn\":\"MovieDetailsPage_backBtn__Qk7Ac\",\"wrapper\":\"MovieDetailsPage_wrapper__f+Pg+\",\"contentWrapper\":\"MovieDetailsPage_contentWrapper__X5ofB\",\"mainTitle\":\"MovieDetailsPage_mainTitle__uB8N+\",\"rating\":\"MovieDetailsPage_rating__G-4J6\",\"overview\":\"MovieDetailsPage_overview__lkFzk\",\"genres\":\"MovieDetailsPage_genres__sazRd\",\"addon\":\"MovieDetailsPage_addon__Y5G6O\",\"addonInfoWrapper\":\"MovieDetailsPage_addonInfoWrapper__0mmBt\",\"cast\":\"MovieDetailsPage_cast__YzvqS\",\"reviews\":\"MovieDetailsPage_reviews__1IUpX MovieDetailsPage_cast__YzvqS\",\"active\":\"MovieDetailsPage_active__9aQT1\"};","import {\n  NavLink,\n  Route,\n  useParams,\n  useRouteMatch,\n  useHistory,\n  useLocation,\n} from 'react-router-dom';\nimport { useEffect, useState, lazy, Suspense } from 'react';\nimport api from 'components/services/ApiService';\nimport s from './MovieDetailsPage.module.css';\nimport notFoundImg from 'img/not_found_ver.jpg';\nimport { Audio } from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nconst Cast = lazy(() => import('../Cast/Cast' /* webpackChunkName: \"cast\" */));\nconst Reviews = lazy(() =>\n  import('../Reviews/Reviews' /* webpackChunkName: \"reviews\" */)\n);\nconst NotFound = lazy(() =>\n  import('../NotFound/NotFound' /* webpackChunkName: \"not-found\" */)\n);\n\nconst MovieDetailsPage = () => {\n  const { url } = useRouteMatch();\n  const { movieId } = useParams();\n  const location = useLocation();\n  const history = useHistory();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    api.fetchMoviesById(movieId).then(setMovie);\n  }, [movieId]);\n\n  const prevPage = () => {\n    let checkLocation = '/';\n\n    const pathname = location?.state?.pathname;\n    const search = location?.state?.search;\n\n    if (pathname && search) {\n      checkLocation = `${pathname}${search}`;\n    } else if (pathname) {\n      checkLocation = `${pathname}`;\n    }\n\n    history.push(checkLocation);\n  };\n\n  return (\n    <section className={s.section}>\n      <button className={s.backBtn} type=\"button\" onClick={prevPage}>\n        Back\n      </button>\n      {movie ? (\n        <>\n          <div className={s.wrapper}>\n            <img\n              src={\n                movie.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                  : notFoundImg\n              }\n              alt={movie.original_title}\n              width=\"300px\"\n            />\n            <div className={s.contentWrapper}>\n              <h2 className={s.mainTitle}>\n                {movie.title ||\n                  movie.name ||\n                  movie.original_name ||\n                  movie.original_title}\n                (\n                {new Date(\n                  movie.release_date || movie.first_air_date\n                ).getFullYear()}\n                )\n              </h2>\n              <p className={s.rating}>\n                User Score: {Math.round((movie.vote_average / 10) * 100)}%\n              </p>\n              <h2 className={s.overview}>Overview</h2>\n              <p>{movie.overview || 'Data not found'}</p>\n              <h2 className={s.genres}>Genres</h2>\n              <p>\n                {movie.genres.map(({ name }) => name).join(' ') ||\n                  'Data not found'}\n              </p>\n            </div>\n          </div>\n          <hr />\n          <p className={s.addon}>Additional information</p>\n          <div className={s.addonInfoWrapper}>\n            <NavLink\n              to={{\n                pathname: `${url}/cast`,\n                state: { ...location.state },\n              }}\n              className={s.cast}\n              activeClassName={s.active}\n            >\n              Cast\n            </NavLink>\n            <NavLink\n              to={{\n                pathname: `${url}/reviews`,\n                state: { ...location.state },\n              }}\n              className={s.reviews}\n              activeClassName={s.active}\n            >\n              Reviews\n            </NavLink>\n          </div>\n          <hr />\n        </>\n      ) : (\n        <Suspense\n          fallback={\n            <Audio\n              height=\"100\"\n              width=\"100\"\n              color=\"#465298\"\n              ariaLabel=\"loading\"\n              wrapperClass=\"loading\"\n            />\n          }\n        >\n          <NotFound />\n        </Suspense>\n      )}\n\n      <Suspense\n        fallback={\n          <Audio\n            height=\"100\"\n            width=\"100\"\n            color=\"#465298\"\n            ariaLabel=\"loading\"\n            wrapperClass=\"loading\"\n          />\n        }\n      >\n        <Route path=\"/movies/:movieId/cast\">\n          <Cast />\n        </Route>\n        <Route path=\"/movies/:movieId/reviews\">\n          <Reviews />\n        </Route>\n      </Suspense>\n    </section>\n  );\n};\n\nMovieDetailsPage.propTypes = {\n  movie: PropTypes.object,\n};\n\nexport default MovieDetailsPage;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["Cast","lazy","Reviews","NotFound","url","useRouteMatch","movieId","useParams","location","useLocation","history","useHistory","useState","movie","setMovie","useEffect","api","then","className","s","type","onClick","checkLocation","pathname","state","search","push","src","poster_path","notFoundImg","alt","original_title","width","title","name","original_name","Date","release_date","first_air_date","getFullYear","Math","round","vote_average","overview","genres","map","join","to","activeClassName","Suspense","fallback","height","color","ariaLabel","wrapperClass","path","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}