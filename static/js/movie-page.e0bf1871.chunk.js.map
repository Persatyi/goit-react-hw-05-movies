{"version":3,"file":"static/js/movie-page.e0bf1871.chunk.js","mappings":"gOACA,EAA0B,4BAA1B,EAA6D,yBAA7D,EAA8F,0BAA9F,EAAiI,2B,6BCI3HA,GAAWC,EAAAA,EAAAA,OAAK,kBAAM,iCAoE5B,EAlEmB,WACjB,IAAMC,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACMC,EAAiBP,EAASQ,OAE1BC,EADS,IAAIC,gBAAgBH,GACdI,IAAI,SAsBzB,OATAC,EAAAA,EAAAA,YAAU,WACHH,IAILI,EAAAA,EAAAA,YAAkBJ,EAClBI,EAAAA,EAAAA,sBAA0BC,KAAKR,MAC9B,CAACG,KAGF,qBAASM,UAAWC,EAApB,WACE,kBAAMD,UAAWC,EAAQC,SAtBX,SAAAC,GAChBA,EAAEC,iBACGhB,IAELL,EAAQsB,MAAR,kBACKpB,GADL,IAEEQ,OAAO,SAAD,OAAWL,MAEnBC,EAAS,MAcP,WACE,kBACEW,UAAWC,EACXK,SAAU,SAAAH,GACRd,EAASc,EAAEI,OAAOnB,QAEpBA,MAAOA,EACPoB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,mBAEd,mBAAQH,KAAK,SAASR,UAAWC,EAAjC,UACE,4CAGDX,EAAOsB,SACR,SAAC,EAAAC,SAAD,CACEC,UACE,SAAC,KAAD,CACEC,OAAO,MACPC,MAAM,MACNC,MAAM,UACNC,UAAU,UACVC,aAAa,YAPnB,UAWE,SAACtC,EAAD,CAAUS,OAAQA,W,qBClEb,SAAS8B,EAAgBC,EAAKC,EAAKlC,GAYhD,OAXIkC,KAAOD,EACTE,OAAOC,eAAeH,EAAKC,EAAK,CAC9BlC,MAAOA,EACPqC,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOlC,EAGNiC,ECVT,SAASO,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eACjDM,EAAK1B,KAAKgC,MAAMN,EAAME,GAG7B,OAAOF,EAGM,SAASO,EAAe/B,GACrC,IAAK,IAAIgC,EAAI,EAAGA,EAAIC,UAAU5B,OAAQ2B,IAAK,CACzC,IAAIE,EAAS,MAAQD,UAAUD,GAAKC,UAAUD,GAAK,GACnDA,EAAI,EAAIX,EAAQL,OAAOkB,IAAS,GAAIC,SAAQ,SAAUpB,GACpD,EAAef,EAAQe,EAAKmB,EAAOnB,OAChCC,OAAOoB,0BAA4BpB,OAAOqB,iBAAiBrC,EAAQgB,OAAOoB,0BAA0BF,IAAWb,EAAQL,OAAOkB,IAASC,SAAQ,SAAUpB,GAC5JC,OAAOC,eAAejB,EAAQe,EAAKC,OAAOa,yBAAyBK,EAAQnB,OAI/E,OAAOf,E","sources":["webpack://react-homework-template/./src/components/Views/MoviesPage/MoviesPage.module.css?4c7b","components/Views/MoviesPage/MoviesPage.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MoviesPage_section__0Mivj\",\"form\":\"MoviesPage_form__S9CMd\",\"input\":\"MoviesPage_input__OgC06\",\"button\":\"MoviesPage_button__kmTbO\",\"list\":\"MoviesPage_list__aCRNe\",\"item\":\"MoviesPage_item__xeP47\",\"link\":\"MoviesPage_link__v1xCN\"};","import { useHistory, useLocation } from 'react-router-dom';\nimport { useEffect, useState, Suspense, lazy } from 'react';\nimport s from './MoviesPage.module.css';\nimport api from 'components/services/ApiService';\nimport { Audio } from 'react-loader-spinner';\nconst HomePage = lazy(() => import('components/Views/HomePage/HomePage'));\n\nconst MoviesPage = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const searchLocation = location.search;\n  const params = new URLSearchParams(searchLocation);\n  const query = params.get('query');\n\n  const findMovie = e => {\n    e.preventDefault();\n    if (!value) return;\n\n    history.push({\n      ...location,\n      search: `query=${value}`,\n    });\n    setValue('');\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    api.searchQuery = query;\n    api.fetchMovieByKeyWord().then(setMovies);\n  }, [query]);\n\n  return (\n    <section className={s.section}>\n      <form className={s.form} onSubmit={findMovie}>\n        <input\n          className={s.input}\n          onChange={e => {\n            setValue(e.target.value);\n          }}\n          value={value}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n        <button type=\"submit\" className={s.button}>\n          <span>Search</span>\n        </button>\n      </form>\n      {!!movies.length && (\n        <Suspense\n          fallback={\n            <Audio\n              height=\"100\"\n              width=\"100\"\n              color=\"#465298\"\n              ariaLabel=\"loading\"\n              wrapperClass=\"loading\"\n            />\n          }\n        >\n          <HomePage movies={movies} />\n        </Suspense>\n      )}\n    </section>\n  );\n};\n\nexport default MoviesPage;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["HomePage","lazy","history","useHistory","location","useLocation","useState","value","setValue","movies","setMovies","searchLocation","search","query","URLSearchParams","get","useEffect","api","then","className","s","onSubmit","e","preventDefault","push","onChange","target","type","autoComplete","autoFocus","placeholder","length","Suspense","fallback","height","width","color","ariaLabel","wrapperClass","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}