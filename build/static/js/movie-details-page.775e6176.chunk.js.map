{"version":3,"file":"static/js/movie-details-page.775e6176.chunk.js","mappings":"mPACA,EAA0B,kCAA1B,EAAsE,kCAAtE,EAAkH,kCAAlH,EAAqK,yCAArK,EAA0N,oCAA1N,EAAuQ,iCAAvQ,EAAmT,mCAAnT,EAA+V,iCAA/V,EAAwY,gCAAxY,EAA2b,2CAA3b,EAA6e,+BAA7e,EAAshB,+DAAthB,EAA8lB,iC,6BCaxlBA,GAAOC,EAAAA,EAAAA,OAAK,kBAAM,iCAClBC,GAAUD,EAAAA,EAAAA,OAAK,kBACnB,iCAEIE,GAAWF,EAAAA,EAAAA,OAAK,kBACpB,iCA+IF,EA5IyB,WACvB,IAAQG,GAAQC,EAAAA,EAAAA,MAARD,IACAE,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACjBC,QAAQC,IAAI,0BAAiBH,GAC7B,IAAMI,GAAUC,EAAAA,EAAAA,MAChBH,QAAQC,IAAI,yBAAgBC,GAC5B,OAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACAN,QAAQC,IAAI,uBAAcI,IAE1BE,EAAAA,EAAAA,YAAU,WACJX,GACFY,EAAAA,EAAAA,gBAAoBZ,GAASa,KAAKH,KAEnC,CAACV,IAiBJ,OACE,qBAASc,UAAWC,EAApB,WACE,mBAAQD,UAAWC,EAAWC,KAAK,SAASC,QAjB/B,WAAO,IAAD,IACjBC,EAAgB,IAEdC,EAAQ,OAAGjB,QAAH,IAAGA,GAAH,UAAGA,EAAUkB,aAAb,aAAG,EAAiBD,SAC5BE,EAAM,OAAGnB,QAAH,IAAGA,GAAH,UAAGA,EAAUkB,aAAb,aAAG,EAAiBC,OAE5BF,GAAYE,EACdH,EAAa,UAAMC,GAAN,OAAiBE,GACrBF,IACTD,EAAa,UAAMC,IAGrBb,EAAQgB,KAAKJ,IAKX,kBAGCT,GACC,iCACE,iBAAKK,UAAWC,EAAhB,WACE,gBACEQ,IACEd,EAAMe,YAAN,yCACsCf,EAAMe,aACxCC,EAENC,IAAKjB,EAAMkB,eACXC,MAAM,WAER,iBAAKd,UAAWC,EAAhB,WACE,gBAAID,UAAWC,EAAf,UACGN,EAAMoB,OACLpB,EAAMqB,MACNrB,EAAMsB,eACNtB,EAAMkB,eAJV,IAMG,IAAIK,KACHvB,EAAMwB,cAAgBxB,EAAMyB,gBAC5BC,cARJ,QAWA,eAAGrB,UAAWC,EAAd,yBACeqB,KAAKC,MAAO5B,EAAM6B,aAAe,GAAM,KADtD,QAGA,eAAIxB,UAAWC,EAAf,uBACA,uBAAIN,EAAM8B,UAAY,oBACtB,eAAIzB,UAAWC,EAAf,qBACA,uBACGN,EAAM+B,OAAOC,KAAI,qBAAGX,QAAiBY,KAAK,MACzC,0BAIR,mBACA,cAAG5B,UAAWC,EAAd,qCACA,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,CACE4B,GAAI,CACFxB,SAAS,GAAD,OAAKrB,EAAL,SACRsB,OAAM,UAAMlB,EAASkB,QAEvBN,UAAWC,EACX6B,gBAAiB7B,EANnB,mBAUA,SAAC,KAAD,CACE4B,GAAI,CACFxB,SAAS,GAAD,OAAKrB,EAAL,YACRsB,OAAM,UAAMlB,EAASkB,QAEvBN,UAAWC,EACX6B,gBAAiB7B,EANnB,yBAWF,sBAGF,SAAC,EAAA8B,SAAD,CACEC,UACE,SAAC,KAAD,CACEC,OAAO,MACPnB,MAAM,MACNoB,MAAM,UACNC,UAAU,UACVC,aAAa,YAPnB,UAWE,SAACrD,EAAD,OAIJ,UAAC,EAAAgD,SAAD,CACEC,UACE,SAAC,KAAD,CACEC,OAAO,MACPnB,MAAM,MACNoB,MAAM,UACNC,UAAU,UACVC,aAAa,YAPnB,WAWE,SAAC,KAAD,CAAOC,KAAK,wBAAZ,UACE,SAACzD,EAAD,OAEF,SAAC,KAAD,CAAOyD,KAAK,2BAAZ,UACE,SAACvD,EAAD,c,+GCvJK,SAASwD,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,SAASQ,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GAC3CC,IAAmBG,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eACjDM,EAAK1C,KAAKgD,MAAMN,EAAME,GAG7B,OAAOF,EAGM,SAASO,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,GACnDA,EAAI,EAAIZ,EAAQL,OAAOoB,IAAS,GAAIC,SAAQ,SAAUvB,GACpD,EAAekB,EAAQlB,EAAKsB,EAAOtB,OAChCE,OAAOsB,0BAA4BtB,OAAOuB,iBAAiBP,EAAQhB,OAAOsB,0BAA0BF,IAAWf,EAAQL,OAAOoB,IAASC,SAAQ,SAAUvB,GAC5JE,OAAOC,eAAee,EAAQlB,EAAKE,OAAOa,yBAAyBO,EAAQtB,OAI/E,OAAOkB,E","sources":["webpack://goit-react-hw-05-movies/./src/components/Views/MovieDetailsPage/MovieDetailsPage.module.css?397c","components/Views/MovieDetailsPage/MovieDetailsPage.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetailsPage_section__LIbTb\",\"backBtn\":\"MovieDetailsPage_backBtn__MYMio\",\"wrapper\":\"MovieDetailsPage_wrapper__+1KK1\",\"contentWrapper\":\"MovieDetailsPage_contentWrapper__F72+E\",\"mainTitle\":\"MovieDetailsPage_mainTitle__z3lE+\",\"rating\":\"MovieDetailsPage_rating__Ttsmn\",\"overview\":\"MovieDetailsPage_overview__84xu9\",\"genres\":\"MovieDetailsPage_genres__GTuuZ\",\"addon\":\"MovieDetailsPage_addon__OasKt\",\"addonInfoWrapper\":\"MovieDetailsPage_addonInfoWrapper__6B4EN\",\"cast\":\"MovieDetailsPage_cast__NsqjJ\",\"reviews\":\"MovieDetailsPage_reviews__VDx-K MovieDetailsPage_cast__NsqjJ\",\"active\":\"MovieDetailsPage_active__bE9I7\"};","import {\r\n  NavLink,\r\n  Route,\r\n  useParams,\r\n  useRouteMatch,\r\n  useHistory,\r\n  useLocation,\r\n} from 'react-router-dom';\r\nimport { useEffect, useState, lazy, Suspense } from 'react';\r\nimport api from 'components/services/ApiService';\r\nimport s from './MovieDetailsPage.module.css';\r\nimport notFoundImg from 'img/not_found_ver.jpg';\r\nimport { Audio } from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nconst Cast = lazy(() => import('../Cast/Cast' /* webpackChunkName: \"cast\" */));\r\nconst Reviews = lazy(() =>\r\n  import('../Reviews/Reviews' /* webpackChunkName: \"reviews\" */)\r\n);\r\nconst NotFound = lazy(() =>\r\n  import('../NotFound/NotFound' /* webpackChunkName: \"not-found\" */)\r\n);\r\n\r\nconst MovieDetailsPage = () => {\r\n  const { url } = useRouteMatch();\r\n  const { movieId } = useParams();\r\n  const location = useLocation();\r\n  console.log('ðŸš€ ~ location', location);\r\n  const history = useHistory();\r\n  console.log('ðŸš€ ~ history', history);\r\n  const [movie, setMovie] = useState(null);\r\n  console.log('ðŸš€ ~ movie', movie);\r\n\r\n  useEffect(() => {\r\n    if (movieId) {\r\n      api.fetchMoviesById(movieId).then(setMovie);\r\n    }\r\n  }, [movieId]);\r\n\r\n  const prevPage = () => {\r\n    let checkLocation = '/';\r\n\r\n    const pathname = location?.state?.pathname;\r\n    const search = location?.state?.search;\r\n\r\n    if (pathname && search) {\r\n      checkLocation = `${pathname}${search}`;\r\n    } else if (pathname) {\r\n      checkLocation = `${pathname}`;\r\n    }\r\n\r\n    history.push(checkLocation);\r\n  };\r\n\r\n  return (\r\n    <section className={s.section}>\r\n      <button className={s.backBtn} type=\"button\" onClick={prevPage}>\r\n        Back\r\n      </button>\r\n      {movie ? (\r\n        <>\r\n          <div className={s.wrapper}>\r\n            <img\r\n              src={\r\n                movie.poster_path\r\n                  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\r\n                  : notFoundImg\r\n              }\r\n              alt={movie.original_title}\r\n              width=\"300px\"\r\n            />\r\n            <div className={s.contentWrapper}>\r\n              <h2 className={s.mainTitle}>\r\n                {movie.title ||\r\n                  movie.name ||\r\n                  movie.original_name ||\r\n                  movie.original_title}\r\n                (\r\n                {new Date(\r\n                  movie.release_date || movie.first_air_date\r\n                ).getFullYear()}\r\n                )\r\n              </h2>\r\n              <p className={s.rating}>\r\n                User Score: {Math.round((movie.vote_average / 10) * 100)}%\r\n              </p>\r\n              <h2 className={s.overview}>Overview</h2>\r\n              <p>{movie.overview || 'Data not found'}</p>\r\n              <h2 className={s.genres}>Genres</h2>\r\n              <p>\r\n                {movie.genres.map(({ name }) => name).join(' ') ||\r\n                  'Data not found'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <p className={s.addon}>Additional information</p>\r\n          <div className={s.addonInfoWrapper}>\r\n            <NavLink\r\n              to={{\r\n                pathname: `${url}/cast`,\r\n                state: { ...location.state },\r\n              }}\r\n              className={s.cast}\r\n              activeClassName={s.active}\r\n            >\r\n              Cast\r\n            </NavLink>\r\n            <NavLink\r\n              to={{\r\n                pathname: `${url}/reviews`,\r\n                state: { ...location.state },\r\n              }}\r\n              className={s.reviews}\r\n              activeClassName={s.active}\r\n            >\r\n              Reviews\r\n            </NavLink>\r\n          </div>\r\n          <hr />\r\n        </>\r\n      ) : (\r\n        <Suspense\r\n          fallback={\r\n            <Audio\r\n              height=\"100\"\r\n              width=\"100\"\r\n              color=\"#465298\"\r\n              ariaLabel=\"loading\"\r\n              wrapperClass=\"loading\"\r\n            />\r\n          }\r\n        >\r\n          <NotFound />\r\n        </Suspense>\r\n      )}\r\n\r\n      <Suspense\r\n        fallback={\r\n          <Audio\r\n            height=\"100\"\r\n            width=\"100\"\r\n            color=\"#465298\"\r\n            ariaLabel=\"loading\"\r\n            wrapperClass=\"loading\"\r\n          />\r\n        }\r\n      >\r\n        <Route path=\"/movies/:movieId/cast\">\r\n          <Cast />\r\n        </Route>\r\n        <Route path=\"/movies/:movieId/reviews\">\r\n          <Reviews />\r\n        </Route>\r\n      </Suspense>\r\n    </section>\r\n  );\r\n};\r\n\r\nMovieDetailsPage.propTypes = {\r\n  movie: PropTypes.object,\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["Cast","lazy","Reviews","NotFound","url","useRouteMatch","movieId","useParams","location","useLocation","console","log","history","useHistory","useState","movie","setMovie","useEffect","api","then","className","s","type","onClick","checkLocation","pathname","state","search","push","src","poster_path","notFoundImg","alt","original_title","width","title","name","original_name","Date","release_date","first_air_date","getFullYear","Math","round","vote_average","overview","genres","map","join","to","activeClassName","Suspense","fallback","height","color","ariaLabel","wrapperClass","path","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}